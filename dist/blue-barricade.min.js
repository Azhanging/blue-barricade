/*!
 * 
 * blue-barricade.js 0.0.4
 * (c) 2016-2022 Blue
 * Released under the MIT License.
 * https://github.com/azhanging/blue-barricade
 * time:Tue, 08 Feb 2022 09:54:15 GMT
 * 
 */
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.BlueBarricade=r():e.BlueBarricade=r()}("undefined"!=typeof self?self:this,function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./static",t(t.s=0)}([function(e,r,t){"use strict";t.r(r);var n=t(1),o=t(2),i=function(){function e(e){this.options={},this.options=Object.assign({hooks:{error:function(){}},concatErrorMessage:!1},e,{})}return e.addRule=function(e,r){if(o.default[e])throw"has same "+e+" rule";o.default[e]=r},e.prototype.validate=function(e){var r=this,t=e.model,o=void 0===t?{}:t,i=e.validations,u=void 0===i?[]:i;return new Promise(function(e){return e(n.validate.call(r,{validations:u,model:o}))})},e}();r.default=i},function(e,r,t){"use strict";t.r(r),t.d(r,"validate",function(){return f});var n=t(2),o=t(3);function i(e){var r=e.model,t=e.prop.split("."),n=r[t.shift()];if(t.length>0){if(!(n instanceof Object||n instanceof Array))return;return i({model:n,prop:t.join(".")})}return n}function u(e){var r=e.message,t=e.value,n=e.prop;return o.default.hook(null,r||"validate "+n+" error",[t])}var a="*";function s(e){var r=e.validations,t=e.model,n={};r.forEach(function(e,r){var o=e.prop,u=e.rules;o.includes(a)&&(n[r]=function e(r){var t=r.prop,n=r.model,o=r.rules,u=t.split("."),s=u.indexOf(a);if(-1!==s){var f=[];if(u[s]===a){var l=u.slice(0,s).join("."),c=i({model:n,prop:l});if(c instanceof Array){for(var p=0;p<c.length;p++){var d=l+"."+p+"."+(u.slice(s+1).join(".")||"");d.includes(a)?f.push.apply(f,e({prop:d,model:n,rules:o})):f.push({prop:d,rules:o,isIterator:!0,iteratorIndex:p})}return f}}}}({prop:o,model:t,rules:u}))});var o=0,u=function(e){var t=parseInt(e);(n[t]||[]).forEach(function(e){r.splice(t+o,0,e),++o})};for(var s in n)u(s);return r.filter(function(e){return!e.prop.includes(a)})}function f(e){var r=this,t=e.validations,a=e.model,f=[],l=[];s({validations:t,model:a}).forEach(function(e){var t,o=e.prop,s=e.rules;if(""!==(t=function(e){return/\.|\[.+\]/.test(""+e)}(o)?i({model:a,prop:o}):a[o])&&void 0!==t&&null!==t||!1!==e.required){e.type&&function(e){return e.rule,!1}.call(r,{validation:e});var c=function(e){for(var r=e.rules,t=e.value,o=e.prop,i=e.isIterator,a=e.iteratorIndex,s="",f=function(e){if(s)return"break";var r,f=void 0,l=function(e){var n=e({value:t,isIterator:i,iteratorIndex:a});if("boolean"==typeof n.status){var o=n.status,u=n.message;if(!1===o&&u)r=u;else if(!0===o)return!0}else if("boolean"==typeof n&&n)return!0;return!1};if("string"!=typeof e?(f=e.rule,r=e.message):f=e,f instanceof RegExp){if(f.test(t))return"continue";s=u({message:r,value:t,prop:o})}else if("string"==typeof f){var c=n.default[f];if(!c)throw f+" rule is undefined";var p=c.rule;if(c.message,p instanceof RegExp){if(p.test(t))return"continue"}else{if("function"!=typeof p)return console.error("rule is not RegExp or Function"),"continue";if(l(p))return"continue"}s=u({message:r,value:t,prop:o})}else if("function"==typeof f){if(l(f))return"continue";s=u({message:r,value:t,prop:o})}},l=0,c=r;l<c.length&&"break"!==f(c[l]);l++);return s}({prop:o,rules:s,value:t});c&&(l.push(c),f.push({prop:o,value:t,message:c}))}});var c,p=this.options.concatErrorMessage,d={errors:f,status:0===f.length,errorMessage:p?l.join(","):l[0]||"",errorPropsMessage:(c={},f.forEach(function(e){c[e.prop]=e.message}),c)},v=this.options.hooks;return o.default.hook(this,v.error,[d]),d}},function(e,r,t){"use strict";t.r(r);r.default={phone:{rule:/^1{10}$/,message:"手机号码有误"},email:{rule:/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/,message:"邮箱有误"},money:{rule:/^0\.\d{1,2}$|^[^0]?\d+(\.\d{1,2})?$/,message:"金额有误"},number:{rule:/^0\.\d{1,2}$|^[^0]?\d+(\.\d+)?$/,message:"数值有误"},intNumber:{rule:/^\d+$/,message:"数值有误"},floatNumber:{rule:/^\d+.\d+$/,message:"数值有误"},required:{rule:/^.+$/,message:"当前值有误"}}},function(e,r,t){"use strict";t.r(r);r.default={hook:function(e,r,t){return"function"==typeof r?r.apply(e,t):r}}}]).default});
//# sourceMappingURL=blue-barricade.min.js.map